<button onclick="fazerLoginMestre()" style="position: fixed; bottom: 10px; right: 10px; opacity: 0.3; background: none; border: none; color: #f4e4bc; cursor: pointer;">ğŸ› ï¸</button>

<div class="painel-mestre" id="painelMestre" style="display: none;">
    <h3 style="text-align: center;">ğŸ› ï¸ POSTAR NOVA MISSÃƒO</h3>
    <input type="text" id="qTitulo" placeholder="TÃ­tulo da MissÃ£o">
    <select id="qTipo">
        <option value="combate">âš”ï¸ Combate (Derrotar monstros)</option>
        <option value="coleta">ğŸŒ¿ Coleta (Buscar itens)</option>
        <option value="expedicao">ğŸ—ºï¸ ExpediÃ§Ã£o (Explorar locais)</option>
    </select>
    <input type="text" id="qLocal" placeholder="Local da MissÃ£o">
    <input type="text" id="qTempo" placeholder="Tempo disponÃ­vel">
    <input type="text" id="qRecompensa" placeholder="Recompensa (Ex: 500 Liras)">
    <input type="text" id="qRequisito" placeholder="RecomendaÃ§Ãµes (Ex: Rank Prata+)">
    <textarea id="qDesc" rows="4" placeholder="DescriÃ§Ã£o detalhada..."></textarea>
    <button class="btn-aceitar" onclick="postarMissao()" style="background: #228b22;">PREGAR NO MURAL</button>
    <button class="btn-aceitar" onclick="document.getElementById('painelMestre').style.display='none'" style="background: #444; margin-top: 5px;">FECHAR PAINEL</button>
</div>

<script>
    // ... (Mantenha sua configuraÃ§Ã£o do Firebase aqui) ...

    let eMestre = false;

    // FunÃ§Ã£o para liberar o modo mestre
    function fazerLoginMestre() {
        const senha = prompt("Digite a Senha do Grande Mestre:");
        if (senha === "SUASENHA123") { // <-- Altere aqui a sua senha!
            eMestre = true;
            document.getElementById('painelMestre').style.display = 'block';
            renderizarMissoes(); // Atualiza a lista para mostrar os botÃµes de excluir
            alert("Acesso concedido, Mestre!");
        } else {
            alert("Senha incorreta. Os pergaminhos estÃ£o protegidos por magia!");
        }
    }

    function renderizarMissoes() {
        db.ref('missoes').on('value', snap => {
            let html = "";
            snap.forEach(child => {
                const m = child.val();
                // O botÃ£o de remover sÃ³ aparece se eMestre for true
                let btnRemover = eMestre ? `<button onclick="removerMissao('${child.key}')" style="background:#e74c3c; color:white; border:none; padding:5px; margin-top:10px; cursor:pointer; width:100%; border-radius:5px;">ğŸ—‘ï¸ REMOVER MISSÃƒO</button>` : "";
                
                html += `
                <div class="pergaminho">
                    <div class="tag tipo-${m.tipo}">${m.tipo}</div>
                    <div class="missao-titulo">${m.titulo}</div>
                    <div class="info-row"><strong>ğŸ“ LOCAL:</strong> ${m.local}</div>
                    <div class="info-row"><strong>â³ DISPONÃVEL:</strong> ${m.tempo}</div>
                    <div class="info-row"><strong>ğŸ“œ REQUISITO:</strong> ${m.requisito}</div>
                    <div class="desc">${m.desc}</div>
                    <div class="recompensa">ğŸ’° RECOMPENSA: ${m.recompensa}</div>
                    <button class="btn-aceitar" onclick="aceitarMissao('${m.titulo}')">ACEITAR MISSÃƒO</button>
                    ${btnRemover}
                </div>`;
            });
            document.getElementById('muralMissoes').innerHTML = html || "<p style='text-align:center'>O mural estÃ¡ vazio...</p>";
        });
    }

    // Inicializa o mural
    renderizarMissoes();

    // ... (Mantenha as funÃ§Ãµes postarMissao, removerMissao e aceitarMissao) ...
</script>
